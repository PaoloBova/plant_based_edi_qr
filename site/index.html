<!doctype html>
<html lang="en" class="h-full scroll-smooth">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Share Your Story</title>
  <link rel="stylesheet" href="./styles.css">
  <!-- <link rel="stylesheet" href="/styles.css" integrity="sha384-…">
  <script src="https://esm.sh/react@19.1.0"   integrity="sha384-…" crossorigin></script>
  <script src="https://esm.sh/react-dom@19.1.0/client" integrity="sha384-…" crossorigin></script> -->
</head>
<body class="bg-gradient-to-b from-slate-50 to-slate-100 text-lg md:text-xl leading-relaxed">
  <main class="w-full max-w-2xl mx-auto space-y-12 px-4">
    <section class="max-w-3xl mx-auto pt-24 px-4 text-center prose prose-lg">
      <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-6">
        Tell Edinburgh Council to go <span class="text-emerald-600">plant-based</span>
      </h1>
      <!-- <p class="text-lg md:text-xl mb-8">
        One minute is all it takes.
      </p> -->
    </section>

    <!-- 3 Simple Steps instructions -->
    <section class="w-full max-w-md md:max-w-xl mx-auto bg-white rounded-xl shadow-lg p-6 space-y-4 prose prose-lg">
      <h2 class="text-xl font-semibold text-center">Email your local councillor in 1 minute</h2>
      <ol class="list-decimal list-inside space-y-2">
        <li>
          Find your ward at
          <a href="https://boundaries.scot/" target="_blank" rel="noopener" class="text-emerald-600 hover:underline">boundaries.scot</a>.
          Then go to
          <a href="https://www.edinburgh.gov.uk/findyourcouncillor" target="_blank" rel="noopener" class="text-emerald-600 hover:underline">edinburgh.gov.uk/findyourcouncillor</a>
          and select your ward to find your councillors.
        </li>
        <li>
          Use the form to help personalise your email, then open in your mail client.
        </li>
      </ol>
    </section>
    <!-- Email generation form -->
    <section class="w-full max-w-md md:max-w-xl mx-auto bg-white rounded-xl shadow-lg p-6 space-y-4 text-lg md:text-xl">
      <form id="email-form" class="space-y-4" novalidate>
        <!-- optional‐fields notice -->
        <p class="text-sm md:text-base text-gray-700 italic">
          All fields are optional and will prepopulate your email. We don’t store any of your details.
        </p>
        <div>
          <label for="full-name" class="block text-base md:text-lg font-medium text-gray-700">Full Name</label>
          <input
            type="text"
            id="full-name"
            name="full-name"
            aria-describedby="full-name-helper full-name-error"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md text-base md:text-lg"
            required
          >
          <p id="full-name-helper" class="text-xs md:text-sm text-gray-600 mt-1">
            Shown in the signature so your councillor knows who it’s from.
          </p>
          <p id="full-name-error" class="text-xs md:text-sm text-red-600 mt-1 hidden" role="alert"></p>
        </div>
        <div>
          <label for="address" class="block text-base md:text-lg font-medium text-gray-700">Address</label>
          <input
            type="text"
            id="address"
            name="address"
            aria-describedby="address-helper address-error"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md text-base md:text-lg"
            required
          >
          <p id="address-helper" class="text-xs md:text-sm text-gray-600 mt-1">
            House number + postcode — helps confirm you’re in their ward.
          </p>
          <p id="address-error" class="text-xs md:text-sm text-red-600 mt-1 hidden" role="alert"></p>
        </div>
        <div>
          <label for="councillor-email" class="block text-base md:text-lg font-medium text-gray-700">Councillor Email</label>
          <input
            type="email"
            id="councillor-email"
            name="councillor-email"
            aria-describedby="councillor-email-helper councillor-email-error"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md text-base md:text-lg"
            required
          >
          <p id="councillor-email-helper" class="text-xs md:text-sm text-gray-600 mt-1">
            One email address only. Send a separate email to each councillor.
          </p>
          <p id="councillor-email-error" class="text-xs md:text-sm text-red-600 mt-1 hidden" role="alert"></p>
        </div>
        <div>
          <label for="councillor-surname" class="block text-base md:text-lg font-medium text-gray-700">
            Councillor’s Surname
          </label>
          <input
            type="text"
            id="councillor-surname"
            name="councillor-surname"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md text-base md:text-lg"
          >
          <p id="councillor-surname-helper" class="text-xs md:text-sm text-gray-600 mt-1">
            Used to personalise the greeting.
          </p>
        </div>
        <div>
          <label for="personal-message" class="block text-base md:text-lg font-medium text-gray-700">Personalised Message</label>
          <textarea
            id="personal-message"
            name="personal-message"
            rows="4"
            aria-describedby="personal-message-helper personal-message-error"
            class="mt-1 block w-full p-2 border border-gray-300 rounded-md text-base md:text-lg"
            required
          ></textarea>
          <p id="personal-message-helper" class="text-xs md:text-sm text-gray-600 mt-1 mb-1">
            Introduce yourself and tell them why this issue matters to you. We’ll add a polite greeting and closing automatically. This will be the first paragraph.
          </p>
          <p id="personal-message-error" class="text-xs md:text-sm text-red-600 mt-1 hidden" role="alert"></p>
        </div>
        <div>
          <label class="inline-flex items-center space-x-2">
            <input
              type="checkbox"
              id="include-default-paras"
              checked
              class="h-4 w-4 text-emerald-600 border-gray-300 rounded"
            >
            <span class="text-sm text-gray-700">Include default paragraphs</span>
          </label>
        </div>
        <button
          type="submit"
          class="block mx-auto px-6 py-3 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 shadow-md"
        >
          Open Email Client
        </button>
        <div class="mt-2 text-center">
          <a href="#" id="copy-email" class="text-sm text-emerald-600 hover:underline">
            Button not working? Copy email to clipboard instead.
          </a>
          <p id="copy-confirm" class="text-sm text-gray-600 mt-1 hidden">
            Email text copied!
          </p>
        </div>
      </form>
    </section>
    <!-- Chat container -->
    <section id="chat-wrapper" hidden>
      <div id="chat-container"
           class="w-full max-w-md md:max-w-xl mx-auto bg-white rounded-xl shadow-xl p-6 space-y-4 text-lg md:text-xl">
        <h2 class="text-lg font-medium mb-2">Need help personalising your message?</h2>
        <div id="chat-window" class="flex flex-col items-start gap-4 h-80 overflow-y-auto p-4 bg-gray-50 rounded-md shadow-inner">
          <!-- Messages will appear here -->
        </div>
        <form id="chat-form" class="flex items-center space-x-2">
          <input
            id="chat-input"
            type="text"
            maxlength="1000"
            placeholder="Type your message..."
            class="flex-grow p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500"
            required
          />
          <p id="chat-error" class="text-xs text-red-600 mt-1 hidden">
            Input too long; maximum 1000 characters allowed.
          </p>
          <button
            type="submit"
            class="px-6 py-3 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Send
          </button>
        </form>
      </div>
    </section>
  </main>
  <script type="module" src="./mailto.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>
